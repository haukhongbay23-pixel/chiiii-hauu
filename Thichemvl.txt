
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer


pcall(function()
    game.CoreGui:FindFirstChild("ChiiMenu"):Destroy()
end)


local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "ChiiMenu"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling


local OpenButton = Instance.new("TextButton", ScreenGui)
OpenButton.Size = UDim2.new(0,60,0,60)
OpenButton.Position = UDim2.new(0.05,0,0.4,0)
OpenButton.BackgroundColor3 = Color3.fromRGB(20,20,20)
OpenButton.Text = "☰"
OpenButton.TextColor3 = Color3.new(1,1,1)
OpenButton.TextScaled = true
OpenButton.BorderSizePixel = 0
Instance.new("UICorner", OpenButton).CornerRadius = UDim.new(1,0)


local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0,320,0,330)
MainFrame.Position = UDim2.new(0.35,0,0.3,0)
MainFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
MainFrame.Visible = false
MainFrame.BorderSizePixel = 0
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0,15)


local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1,0,0,50)
Title.BackgroundTransparency = 1
Title.Text = "CHII HAUU HUB PRO"
Title.TextColor3 = Color3.new(1,1,1)
Title.TextScaled = true
Title.Font = Enum.Font.GothamBold


local function CreateToggle(name, posY)
    local btn = Instance.new("TextButton", MainFrame)
    btn.Size = UDim2.new(0.85,0,0,40)
    btn.Position = UDim2.new(0.075,0,posY,0)
    btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
    btn.Text = name.." : OFF"
    btn.TextColor3 = Color3.new(1,1,1)
    btn.TextScaled = true
    btn.BorderSizePixel = 0
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)
    return btn
end

local AutoFarmBtn = CreateToggle("Auto Farm LV",0.18)
local FastAttackBtn = CreateToggle("Fast Attack",0.33)
local BringMobBtn = CreateToggle("Gom Quái",0.48)
local AutoQuestBtn = CreateToggle("Auto Quest",0.63)


local AutoFarm = false
local FastAttack = false
local BringMob = false
local AutoQuest = false


function GetMob()
    for _,v in pairs(workspace.Enemies:GetChildren()) do
        if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            return v
        end
    end
end


local function SetupToggle(button, variable)
    button.MouseButton1Click:Connect(function()
        _G[variable] = not _G[variable]
        if _G[variable] then
            button.Text = button.Text:gsub("OFF","ON")
            button.BackgroundColor3 = Color3.fromRGB(0,170,0)
        else
            button.Text = button.Text:gsub("ON","OFF")
            button.BackgroundColor3 = Color3.fromRGB(35,35,35)
        end
    end)
end

_G.AutoFarm = false
_G.FastAttack = false
_G.BringMob = false
_G.AutoQuest = false

SetupToggle(AutoFarmBtn,"AutoFarm")
SetupToggle(FastAttackBtn,"FastAttack")
SetupToggle(BringMobBtn,"BringMob")
SetupToggle(AutoQuestBtn,"AutoQuest")


spawn(function()
    while task.wait(0.1) do
        if _G.AutoFarm then
            pcall(function()
                local mob = GetMob()
                if mob then
                    repeat task.wait()

                        
                        player.Character.HumanoidRootPart.CFrame =
                            mob.HumanoidRootPart.CFrame * CFrame.new(0,12,0)

                        
                        if _G.FastAttack then
                            VirtualUser:Button1Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
                            VirtualUser:Button1Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
                        end

                        
                        if _G.BringMob then
                            for _,v in pairs(workspace.Enemies:GetChildren()) do
                                if v:FindFirstChild("HumanoidRootPart") then
                                    v.HumanoidRootPart.CFrame =
                                        mob.HumanoidRootPart.CFrame
                                end
                            end
                        end

                        -- Auto Quest
                        if _G.AutoQuest then
                            ReplicatedStorage.Remotes